{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "n8n Workflow",
  "type": "object",
  "required": [
    "nodes",
    "connections"
  ],
  "properties": {
    "id": {
      "type": "string"
    },
    "name": {
      "type": "string"
    },
    "active": {
      "type": "boolean",
      "default": false
    },
    "nodes": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/Node"
      }
    },
    "connections": {
      "type": "object"
    },
    "settings": {
      "$ref": "#/definitions/Settings"
    },
    "staticData": {
      "type": "object"
    },
    "pinData": {
      "type": "object"
    },
    "tags": {
      "type": "array"
    },
    "meta": {
      "type": "object"
    }
  },
  "definitions": {
    "Node": {
      "type": "object",
      "required": [
        "type",
        "typeVersion",
        "position",
        "parameters"
      ],
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "type": {
          "type": "string",
          "pattern": "^[\\w@/-]+\\.[\\w]+$"
        },
        "typeVersion": {
          "type": "number",
          "minimum": 1
        },
        "position": {
          "type": "array",
          "items": {
            "type": "number"
          },
          "minItems": 2,
          "maxItems": 2
        },
        "parameters": {
          "type": "object"
        },
        "credentials": {
          "type": "object"
        },
        "disabled": {
          "type": "boolean"
        },
        "continueOnFail": {
          "type": "boolean"
        },
        "onError": {
          "type": "string",
          "enum": [
            "stopWorkflow",
            "continueRegularOutput",
            "continueErrorOutput"
          ]
        }
      }
    },
    "Settings": {
      "type": "object",
      "properties": {
        "saveManualExecutions": {
          "type": "boolean"
        },
        "saveDataErrorExecution": {
          "type": "string",
          "enum": [
            "all",
            "none"
          ]
        },
        "saveDataSuccessExecution": {
          "type": "string",
          "enum": [
            "all",
            "none"
          ]
        },
        "executionTimeout": {
          "type": "number"
        },
        "timezone": {
          "type": "string"
        },
        "executionOrder": {
          "type": "string",
          "enum": [
            "v0",
            "v1"
          ]
        }
      }
    }
  }
}