{
  "name": "localFileTrigger",
  "displayName": "Local File Trigger",
  "description": "Triggers a workflow on file system changes",
  "group": [
    "trigger"
  ],
  "version": 1,
  "defaults": {
    "triggerOn": "",
    "events": [],
    "options": {}
  },
  "inputs": [],
  "outputs": [
    "main"
  ],
  "properties": [
    {
      "name": "triggerOn",
      "displayName": "Trigger On",
      "type": "options",
      "default": "",
      "required": true,
      "options": [
        {
          "name": "Changes to a Specific File",
          "value": "file"
        },
        {
          "name": "Changes Involving a Specific Folder",
          "value": "folder"
        }
      ]
    },
    {
      "name": "path",
      "displayName": "File to Watch",
      "type": "string",
      "default": "",
      "displayOptions": {
        "show": {
          "triggerOn": [
            "file"
          ]
        }
      }
    },
    {
      "name": "path",
      "displayName": "Folder to Watch",
      "type": "string",
      "default": "",
      "displayOptions": {
        "show": {
          "triggerOn": [
            "folder"
          ]
        }
      }
    },
    {
      "name": "events",
      "displayName": "Watch for",
      "type": "multiOptions",
      "default": [],
      "required": true,
      "description": "The events to listen to",
      "options": [
        {
          "name": "File Added",
          "value": "add",
          "description": "Triggers whenever a new file was added"
        },
        {
          "name": "File Changed",
          "value": "change",
          "description": "Triggers whenever a file was changed"
        },
        {
          "name": "File Deleted",
          "value": "unlink",
          "description": "Triggers whenever a file was deleted"
        },
        {
          "name": "Folder Added",
          "value": "addDir",
          "description": "Triggers whenever a new folder was added"
        },
        {
          "name": "Folder Deleted",
          "value": "unlinkDir",
          "description": "Triggers whenever a folder was deleted"
        }
      ],
      "displayOptions": {
        "show": {
          "triggerOn": [
            "folder"
          ]
        }
      }
    },
    {
      "name": "options",
      "displayName": "Options",
      "type": "collection",
      "default": {},
      "options": [
        {
          "displayName": "Await Write Finish",
          "name": "awaitWriteFinish",
          "type": "boolean",
          "default": false,
          "description": "Whether to wait until files finished writing to avoid partially read"
        },
        {
          "displayName": "Include Linked Files/Folders",
          "name": "followSymlinks",
          "type": "boolean",
          "default": true,
          "description": "Whether linked files/folders will also be watched (this includes symlinks, aliases on MacOS and shortcuts on Windows). Otherwise only the links themselves will be monitored)."
        },
        {
          "displayName": "Ignore",
          "name": "ignored",
          "type": "string",
          "default": "",
          "placeholder": "**/*.txt or ignore-me/subfolder",
          "description": "Files or paths to ignore. The whole path is tested, not just the filename.Â Supports <a href=\"https://github.com/micromatch/anymatch\">Anymatch</a>- syntax. Regex patterns may not work on macOS. To ignore files based on substring matching, use the 'Ignore Mode' option with 'Contain'."
        },
        {
          "displayName": "Ignore Existing Files/Folders",
          "name": "ignoreInitial",
          "type": "boolean",
          "default": true,
          "description": "Whether to ignore existing files/folders to not trigger an event"
        },
        {
          "displayName": "Max Folder Depth",
          "name": "depth",
          "type": "options",
          "options": [
            {
              "name": "1 Levels Down",
              "value": 1
            },
            {
              "name": "2 Levels Down",
              "value": 2
            },
            {
              "name": "3 Levels Down",
              "value": 3
            },
            {
              "name": "4 Levels Down",
              "value": 4
            },
            {
              "name": "5 Levels Down",
              "value": 5
            },
            {
              "name": "Top Folder Only",
              "value": 0
            },
            {
              "name": "Unlimited",
              "value": -1
            }
          ],
          "default": -1,
          "description": "How deep into the folder structure to watch for changes"
        },
        {
          "displayName": "Use Polling",
          "name": "usePolling",
          "type": "boolean",
          "default": false,
          "description": "Whether to use polling for watching. Typically necessary to successfully watch files over a network."
        },
        {
          "displayName": "Ignore Mode",
          "name": "ignoreMode",
          "type": "options",
          "options": [
            {
              "name": "Match",
              "value": "match",
              "description": "Ignore files using regex patterns (e.g., **/*.txt), Not supported on macOS"
            },
            {
              "name": "Contain",
              "value": "contain",
              "description": "Ignore files if their path contains the specified value"
            }
          ],
          "default": "match",
          "description": "Whether to ignore files using regex matching (Anymatch patterns) or by checking if the path contains a specified value"
        }
      ]
    }
  ],
  "credentials": [],
  "hasVersions": false
}